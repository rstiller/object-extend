!function(){"use strict";function e(){this.listeners={},this.counter=0,this.handlers={}}function r(e,r,t){this.remove=function(){delete e[t],delete r[t]}}function t(e){this.remove=function(){for(var r=0;r<e.length;r++)e[r].remove()}}Function.prototype.extend=function(n,s){var o=this,i=function(e,r,t){var n=Object.getOwnPropertyDescriptor(e,r),s={},o={};n||Object.defineProperty(e,r,function(e,r,t){var n=e,i={enumerable:!0,configurable:!0,get:function(){return n},set:function(e,i){var a=n,u=this;if(e!==n&&(n=e,1===arguments.length||i!==!1)){for(var f in s)s[f](e,a,r,t,o[f]);for(var f in u.$$asterisk.listeners)u.$$asterisk.listeners[f](e,a,r,t,u.$$asterisk.handlers[f])}}};return i.get.counter=0,i.get.listeners=s,i.get.handlers=o,i}(t,e,r))},a=function(r){var t=[],n=this,s=n,o=n;for(n.$class=a,Object.defineProperty(n,"$$set",{value:new e,enumerable:!1,writable:!1}),Object.defineProperty(n,"$$asterisk",{value:new e,enumerable:!1,writable:!1});null!=(o=o.__proto__);){s.$super={};for(var u in o)"function"==typeof o[u]&&(s.$super[u]=o[u],"$constructor"===u&&t.push(s.$super[u]));s=s.$super}for(s=n.$super;s;){var f={};for(var u in s)"function"==typeof s[u]&&(f[u]=function(e,r){return function(){if(!e)throw new Error("Superclass has no method "+r);e.apply(n,arguments)}}(s.$super[u],u));for(var u in s)"function"==typeof s[u]&&(s[u].$anchor=f);s=s.$super}n.$super=function(e){return e&&e.$anchor?e.$anchor:null},n.$super=n.$super.bind(n);for(var u in a.$defaults)i(n,u,a.$defaults[u]);for(var u in n)"function"==typeof n[u]&&(n[u]=n[u].bind(n));for(var u in r)i(n,u,r[u]),n[u]=r[u];t.length>0&&t[0].bind(n).apply()};a.prototype=Object.create(o.prototype),a.prototype.constructor=a,a.prototype.$on=function(e,n){var s=this,o=function(e){i(s,e,s[e]);var t=Object.getOwnPropertyDescriptor(s,e),o=t.get.counter++;t.get.listeners[o]=n;var a=new r(t.get.listeners,t.get.handlers,o);return t.get.handlers[o]=a,a};if(e instanceof Array){for(var a=[],u=0;u<e.length;u++)a.push(o(e[u]));return new t(a)}if("$*"===e){var f=s.$$asterisk.counter++,$=new r(s.$$asterisk.listeners,s.$$asterisk.handlers,f);return s.$$asterisk.listeners[f]=n,s.$$asterisk.handlers[f]=n,$}if("$set"===e){var f=s.$$set.counter++,$=new r(s.$$set.listeners,s.$$set.handlers,f);return s.$$set.listeners[f]=n,s.$$set.handlers[f]=n,$}return o(e)},a.prototype.$set=function(e){var r=this,t={};for(var n in e){t[n]=r[n];var s=Object.getOwnPropertyDescriptor(r,n);s&&s.set&&s.set.apply(r,[e[n],!1])}for(var o in r.$$set.listeners)r.$$set.listeners[o](e,t,r,r.$$set.handlers[o])},Object.defineProperty(a,"$defaults",{value:{},enumerable:!1,writable:!1});for(var u in o.$defaults)a.$defaults[u]=o.$defaults[u];for(var u in n)"function"==typeof n[u]?a.prototype[u]=n[u]:a.$defaults[u]=n[u];for(var u in o)a[u]=o[u];for(var u in s)a[u]=s[u];return a}}();